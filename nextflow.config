
manifest {
    name            = 'variantcalling pipeline'
    author          = """@sandrababiryeruth"""
    homePage        = 'https://github.com/sanger-tol/genomenote'
    description     = """An automated nextflow pipeline for variant calling """
    mainScript      = 'main.nf'
}
/*
 * default params
 */

params.outdir = "${projectDir}/results"
params.reads = "${projectDir}/data/_{1,2}.fq"
params.reference = "${projectDir}/data/GRCh38.fa"
params.multiqc = "${projectDir}/multiqc"

// Load base.config by default for all pipelines
includeConfig 'conf/base.config'

profiles {
    cleanup { cleanup = true }
    debug {
        dumpHashes             = true
        process.beforeScript   = 'echo $HOSTNAME'
        cleanup = false
    }
    conda {
        conda.enabled          = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
        apptainer.enabled      = false
    }
    mamba {
        conda.enabled          = true
        conda.useMamba         = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
        apptainer.enabled      = false
    }
    docker {
        docker.enabled         = true
        docker.registry        = 'quay.io'
        docker.userEmulation   = true
        conda.enabled          = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
        apptainer.enabled      = false
    }
    arm {
        docker.runOptions = '-u $(id -u):$(id -g) --platform=linux/amd64'
    }
    singularity {
        singularity.enabled    = true
        singularity.autoMounts = true
        conda.enabled          = false
        docker.enabled         = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
        apptainer.enabled      = false
    }
    apptainer {
        apptainer.enabled      = true
        conda.enabled          = false
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    gitpod {
        executor.name          = 'local'
        executor.cpus          = 16
        executor.memory        = 60.GB
    }
}
// Load modules.config for DSL2 module specific options
includeConfig 'conf/modules.config'
